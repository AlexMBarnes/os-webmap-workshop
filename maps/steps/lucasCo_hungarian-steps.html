<!--1. HTML Skeleton-->

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>mbtiles on baselayer</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />    
</head>

<body>
    
</body>
</html>


<!--2. Add mapbox.js and mapbox.css under meta tag-->

<script src='https://api.tiles.mapbox.com/mapbox.js/v2.1.4/mapbox.js'></script>
<link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.4/mapbox.css' rel='stylesheet' />


<!--3. Add map div in body-->

<!--map div-->
<div id='map'></div>
<!--End map div-->


<!--4. Basic style for body and map div. Add in head under mapbox.css link-->

<style>
  body { margin:0; padding:0; }
  #map { position:absolute; top:0; bottom:0; width:100%; }
</style>


<!--5. Add script area after map div with mapbox access token-->

<script>
// Access your Mapbox account
// Make sure you use your own!
// https://www.mapbox.com/account/apps/
// Default public token
L.mapbox.accessToken = 'pk.eyJ1IjoibWFwdGFzdGlrIiwiYSI6IjNPMkREV1kifQ.2KGPFZD0QaGfvYzXYotTXQ'; 
</script>


<!--6. Initialize the map. Add this under the access token-->

<script> // <- don't add 
// Initialize the map
var map = L.mapbox.map('map', undefined, {
    infoControl: true,
    attributionControl: false
});
</script> <!-- <- don't add-->


<!--7. Add Stamen toner basemap under map initialization-->

<script> // <- don't add
var stamenLayer = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}.png', {
  attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>.'
}).addTo(map);
</script> <!-- <- don't add-->


<!--8. Add the mbtiles we made earlier under the toner basemap-->

<script> // <- don't add
// Adds the mbtiles we made of Lucas Co to the map
var lucasCoLayer = L.mapbox.tileLayer('maptastik.toledo_hungarian').addTo(map);
</script> <!-- <- don't add-->


<!--9. Add the UTF grid and interactivity under our mbtiles-->

<script> // <- don't add
// Let's bring out the interactivity
// Adds UTF grid from our Lucas Co tiles to the map
var myGridLayer = L.mapbox.gridLayer('maptastik.toledo_hungarian').addTo(map); 
// Creates access to interaction with the UTF grid from our Lucas co tiles
var myGridControl = L.mapbox.gridControl(myGridLayer).addTo(map);
</script> <!-- <- don't add-->


<!--10. Set our starting location and zoom under UTF-->

<script> // <- don't add
//Sets our starting location and zoom   
map.setView([41.56633, -83.63830], 10);
</script> <!-- <- don't add-->


<!--11. Add legend div at the very top of the body-->

<!--Legend-->
<!--We're creating the legend, but the style="display:none;" means we're not going to draw it initially-->
<div id='legend' style='display:none;'>
  <strong>Hungarian Ancestry in Lucas County, OH</strong><br />
    <small>% of population claiming Hungarian ancestry by census tract</small>
  <nav class='legend clearfix'>
    <span style='background:rgba(255,255,204,0.5);'></span>
    <span style='background:rgba(194,230,153,0.5);'></span>
    <span style='background:rgba(120,198,121,0.5);'></span>
    <span style='background:rgba(49,163,84,0.5);'></span>
    <span style='background:rgba(0,104,55,0.5);'></span>
    <label>&lt;1%</label>
    <label>1% - 3.9%</label>
    <label>4% - 6.9%</label>
    <label>7% - 9.9%</label>
    <label>&gt;= 10%</label>
    <small>Source: <a href="http://factfinder2.census.gov" target="_blank">ACS 2012 (5yr)</a></small>
    </nav>
</div>
<!--End legend-->


<!--12. Add style for legend to bottom of style tag in head-->

<style> /* <- Don't add
.legend label,
.legend span {
  display:block;
  float:left;
  height:15px;
  width:20%;
  text-align:center;
  font-size:9px;
  color:#808080;
  }
</style> <!-- <- Don't add -->


<!--13. Add legend to map. This is the very last thing in the script tag-->

<script> // <- don't add
//Remember earlier when we made the legend, but didn't display it?
//Now it's getting displayed
map.legendControl.addLegend(document.getElementById('legend').innerHTML);
</script> <!-- <- don't add-->
